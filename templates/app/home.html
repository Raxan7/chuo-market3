{% extends 'app/base.html' %}
{% load static %}
{% block title %}Home{% endblock title %}

<style>
  .hover-notification {
    position: fixed;
    top: 0;
    width: 100%;
    z-index: 1000;
    display: block;
  }
</style>

{% block banner_slider %}
<!-- Notification for missing customer details -->
{% if user.is_authenticated and not customers %}
<div class="alert alert-warning hover-notification" role="alert">
  Please <a href="{% url 'profile' %}" class="alert-link">update your profile</a> to make your shopping and selling experience smooth.
</div>
{% endif %}

<!--Banner Slider-->
<div id="carouselExampleControls" class="carousel slide" data-bs-ride="carousel">
  <div class="carousel-inner">
    {% for banner in banners %}
      <div class="carousel-item{% if forloop.first %} active{% endif %}">
        <img src="{{ banner.image.url }}" class="d-block w-100" alt="...">
      </div>
    {% endfor %}
  </div>
  <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-bs-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Previous</span>
  </a>
  <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-bs-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Next</span>
  </a>
</div>

<!-- End Banner Slider -->
{% endblock banner_slider %}

{% block livesale %}
<!-- Live Sale Section -->
<div class="container">
  <div class="row bg-danger text-center p-5 text-white border-bottom shadow">
    <h1>SALE IS LIVE NOW</h1>
    <span>5% Instant Discount If You Are At The University of Dodoma</span>
    <small class="fw-lighter">Term and Condition Applied (For details visit Bank's official Website)</small>
  </div>
</div> 
<!-- End Live Sale Section -->
{% endblock livesale %}

{% block main-content %}

<!-- 1st Product Slider -->
<div class="m-3">
  {% if mobile %}
    <h2>Mobiles</h2>
    <!-- Slider 1 -->
    <div class="owl-carousel" id="slider1">
      {% for mobiles in mobile %}
        <a href="{% url 'product-detail' pk=mobiles.id %}" class="btn">
          <div class="item">
            <img src="{{mobiles.image.url}}" alt="" height="300px">
            <span class="fw-bold">{{ mobiles.title |truncatewords:3 }}</span><br>
            <span class="fs-5">TSh {{mobiles.price}}</span>
          </div>
        </a>
      {% endfor %}
    </div>
  {% endif %}
</div>

<div class="m-3">
  {% if cloth %}
    <h2>Clothing</h2>
    <!-- Slider 1 -->
    <div class="owl-carousel" id="slider1">
      {% for cloths in cloth %}
        <a href="{% url 'product-detail' pk=cloths.id %}" class="btn">
          <div class="item">
            <img src="{{cloths.image.url}}" alt="" height="200px">
            <span class="fw-bold">{{ cloths.title |truncatewords:3 }}</span><br>
            <span class="fs-5">TSh {{cloths.price}}</span>
          </div>
        </a>
      {% endfor %}
    </div>
  {% endif %}
</div>

<div class="m-3">
  {% if electronics %}
    <h2>Electronics</h2>
    <!-- Slider 1 -->
    <div class="owl-carousel" id="slider1">
      {% for product in electronics %}
        <a href="{% url 'product-detail' pk=product.id %}" class="btn">
          <div class="item">
            <img src="{{product.image.url}}" alt="" height="200px">
            <span class="fw-bold">{{ product.title |truncatewords:3 }}</span><br>
            <span class="fs-5">TSh {{product.price}}</span>
          </div>
        </a>
      {% endfor %}
    </div>
  {% endif %}
</div>

<div class="m-3">
  {% if books %}
    <h2>Books</h2>
    <!-- Slider 1 -->
    <div class="owl-carousel" id="slider1">
      {% for book in books %}
        <a href="{% url 'product-detail' pk=book.id %}" class="btn">
          <div class="item">
            <img src="{{book.image.url}}" alt="" height="200px">
            <span class="fw-bold">{{ book.title |truncatewords:3 }}</span><br>
            <span class="fs-5">TSh {{book.price}}</span>
          </div>
        </a>
      {% endfor %}
    </div>
  {% endif %}
</div>

<div class="m-3">
  {% if accessorie %}
    <h2>Accessories</h2>
    <!-- Slider 1 -->
    <div class="owl-carousel" id="slider1">
      {% for accessory in accessorie %}
        <a href="{% url 'product-detail' pk=accessory.id %}" class="btn">
          <div class="item">
            <img src="{{accessory.image.url}}" alt="" height="200px">
            <span class="fw-bold">{{ accessory.title |truncatewords:3 }}</span><br>
            <span class="fs-5">TSh {{accessory.price}}</span>
          </div>
        </a>
      {% endfor %}
    </div>
  {% endif %}
</div>

{% endblock main-content %}